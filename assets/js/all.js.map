{"version":3,"sources":["all.js"],"names":["$","document","ready","isLogin","localStorage","getItem","addClass","removeClass","AOS","init","swiper","Swiper","slidesPerView","spaceBetween","breakpoints","loop","speed","autoplay","disableOnInteraction","delay","navigation","nextEl","prevEl","swiperSpace","elem","getElementById","datepicker","Datepicker","format","language","todayBtn","todayBtnMode","todayHighlight","addEventListener","e","console","log","getDate","click","siblings","filterType","attr","map","i","item","show","hide","parent","children","login","forms","checkValidity","reportValidity","loginModal","modal","bootstrap","Modal","getInstance","setItem","window","location","href","pathname","slice","lastIndexOf","removeItem","logout","logoutModal","goReserve","keyboard"],"mappings":"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","file":"all.js","sourcesContent":["$(document).ready(function () {\n  let isLogin = !!localStorage.getItem(\"login\");\n  if(isLogin) {\n    $(\"#login-btn\").addClass(\"d-none\");\n    $(\"#user-btn\").removeClass(\"d-none\");\n    $(\".user-menu\").removeClass(\"d-none\");\n  } else {\n    $(\"#login-btn\").removeClass(\"d-none\");\n    $(\"#user-btn\").addClass(\"d-none\");\n    $(\".user-menu\").addClass(\"d-none\");\n  }\n\n  // 滾動視差\n  AOS.init();\n\n  // 嚴選療程\n  const swiper = new Swiper(\".swiper-course\", {\n    slidesPerView: 1,\n    spaceBetween: 0,\n    //多欄\n    breakpoints: {\n      992: {\n        slidesPerView: 2,\n        spaceBetween: 8,\n      },\n      1200: {\n        slidesPerView: 3,\n        spaceBetween: 8,\n      }\n    },\n    loop: true,\n    speed: 1500,\n    autoplay: {\n      disableOnInteraction: false,\n      delay: 0\n    },\n    // 左右箭頭\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n  });\n\n  // 環境介紹\n  const  swiperSpace = new Swiper(\".swiper-space\", {\n    slidesPerView: 1,\n    spaceBetween: 0,\n    //多欄\n    breakpoints: {\n      992: {\n        slidesPerView: 2,\n        spaceBetween: 8,\n      },\n      1200: {\n        slidesPerView: 3,\n        spaceBetween: 8,\n      }\n    },\n    loop: true,\n    speed: 1500,\n    autoplay: {\n      disableOnInteraction: false,\n      delay: 0\n    },\n    // 左右箭頭\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n  });\n\n  // 日期套件\n  const elem = document.getElementById('reserve-date');\n  if(elem) {\n    const datepicker = new Datepicker(elem, {\n      format: \"yyyy/mm/dd\",\n      language: \"zh-TW\",\n      todayBtn: true,\n      todayBtnMode: 1,\n      todayHighlight: true,\n    });\n  \n    elem.addEventListener('changeDate', function(e) {\n      console.log('choose date is', datepicker.getDate(\"yyyy/mm/dd\"));\n    });\n  }\n\n  // 療程類別\n  $(\".service-type-btn\").click(function(e) {\n    $(this).addClass('active');\n    $(this).siblings().removeClass('active');\n    let filterType = $(this).attr(\"data-type\");\n\n    $(\".service-list > div\").map(function(i, item){\n      // console.log(item, i);\n      if(filterType === \"all\") {\n        $(item).show();\n      } else if($(item).attr(\"data-service\") === filterType) {\n        $(item).show();\n      } else {\n        $(item).hide();\n      }\n    });\n  });\n\n  // 選擇按摩師\n  $(\".service-reserve-masseur\").click(function(e) {\n    $(this).addClass('active');\n    $(this).parent().siblings().children('div').removeClass('active');\n  });\n\n  // 預約時間\n  $(\".service-reserve-time-btn\").click(function(e) {\n    $(this).addClass('active');\n    $(this).siblings().removeClass('active');\n  });\n\n\n});\n\nfunction login() {\n  let forms = $(\"#login-form\");\n  if(!forms[0].checkValidity()) {\n    forms[0].reportValidity();\n    return false;\n  }\n\n  let loginModal = document.getElementById('loginModal');\n  let modal = bootstrap.Modal.getInstance(loginModal);\n  modal.hide();\n  localStorage.setItem(\"login\", \"login\");\n  $(\"#login-btn\").addClass(\"d-none\");\n  $(\"#user-btn\").removeClass(\"d-none\");\n  $(\".user-menu\").removeClass(\"d-none\");\n\n  // 預約療程,登入後導頁至預約頁面\n  if(!!localStorage.getItem(\"reserve\")) {\n    window.location.href =  window.location.pathname.slice(0, window.location.pathname.lastIndexOf(\"/\")) + \"/service-reserve.html\";\n    localStorage.removeItem(\"reserve\");\n  }\n}\n\nfunction logout() {\n  let logoutModal = document.getElementById('logoutModal');\n  let modal = bootstrap.Modal.getInstance(logoutModal);\n  modal.hide();\n  localStorage.removeItem(\"login\");\n  $(\"#login-btn\").removeClass(\"d-none\");\n  $(\"#user-btn\").addClass(\"d-none\");\n  $(\".user-menu\").addClass(\"d-none\");\n}\n\nfunction goReserve() {\n  // 確認是否登入\n  let isLogin = !!localStorage.getItem(\"login\");\n  if(isLogin) {\n    window.location.href = window.location.pathname.slice(0, window.location.pathname.lastIndexOf(\"/\")) + \"/service-reserve.html\";\n  } else {\n    localStorage.setItem(\"reserve\", \"reserve\");\n    let loginModal = document.getElementById('loginModal');\n    let modal = new bootstrap.Modal(document.getElementById('loginModal'), {\n      keyboard: false\n    })\n    modal.show(loginModal);\n  }\n}"]}